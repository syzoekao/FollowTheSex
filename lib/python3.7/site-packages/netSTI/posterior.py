import numpy as np
import json

class SamplePosterior: 
	'''
	Disease parameters 
	'''
	def __init__(self, g, target_prev, indep): 

		if target_prev == 0.05: 
			prev_level = "Low"
		else: 
			prev_level = "High"

		if indep == True: 
			cor_or_not = "Uncorr"
		else: 
			cor_or_not = "Corr"

		file_name = 'results/SIRresults/' + g + prev_level + cor_or_not + '.txt'
		with open(file_name) as json_file:  
			ret = json.load(json_file)
			ret = np.array(ret)

		self.ret = ret

	def sample_from_posterior(self, n_samp): 
		par = self.ret[:, 0]
		w = self.ret[:, -1]
		norm_w = w / np.sum(w)
		parm_out = np.random.choice(par, size = n_samp, p = norm_w)

		return parm_out
